class k{constructor(b){if(!b)throw new Error("TransitAlert requires a valid Transit instance.");this.app=b,this.registerHooks()}registerHooks(){this.app.hooks.addAction("beforeRequest",this.handleConfirm.bind(this),10),this.app.hooks.addFilter("modifyAction",this.modifyAction.bind(this)),this.app.hooks.addAction("afterResponse",this.afterResponse.bind(this))}handleConfirm(b,d){const h=b.getAttribute("confirm");if(!h)return!0;return window.confirm(h)}modifyAction(b,d){if(b.hasOwnProperty("alert"))b.browserAlert=b.alert,delete b.alert;return b}afterResponse(b,d){if(d.browserAlert){if(typeof d.browserAlert==="string")window.alert(d.browserAlert);if(typeof d.browserAlert==="object"&&d.browserAlert.redirect)window.location.href=d.browserAlert.redirect}}}document.addEventListener("TransitInitialized",(b)=>{try{const d=b.detail.instance;new k(d)}catch(d){console.error("Error initializing TransitAlert:",d)}});
