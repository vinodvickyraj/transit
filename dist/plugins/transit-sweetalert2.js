class q{constructor(d){if(!d)throw new Error("TransitSweetAlert2 requires a valid Transit instance.");this.app=d,this.registerHooks()}registerHooks(){this.app.hooks.addAction("beforeRequest",this.handleConfirm.bind(this),10),this.app.hooks.addFilter("modifyAction",this.modifyAction.bind(this)),this.app.hooks.addAction("afterResponse",this.afterResponse.bind(this))}async handleConfirm(d,b){const h=d.getAttribute("confirm");if(!h)return!0;try{return(await Swal.fire({title:"Are you sure?",text:h,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, proceed",cancelButtonText:"Cancel"})).isConfirmed}catch(k){return console.error("Error displaying confirmation dialog:",k),!1}}modifyAction(d,b){if(d.hasOwnProperty("alert"))d.sweetalert=d.alert,delete d.alert;return d}afterResponse(d,b){if(b.sweetalert){let h={};if(typeof b.sweetalert==="object"&&!Array.isArray(b.sweetalert))h={...b.sweetalert};else h={title:b.sweetalert,icon:"info",showConfirmButton:!1,timer:2000,timerProgressBar:!0};Swal.fire(h).then(()=>{if(typeof b.sweetalert==="object"&&b.sweetalert.redirect)window.location.href=b.sweetalert.redirect}).catch((k)=>{console.error("Failed to display SweetAlert2:",k)})}}}document.addEventListener("TransitInitialized",(d)=>{try{const b=d.detail.instance;new q(b)}catch(b){console.error("Error initializing TransitSweetAlert2:",b)}});
